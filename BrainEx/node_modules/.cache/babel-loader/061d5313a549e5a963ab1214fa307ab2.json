{"ast":null,"code":"import _isObject from \"lodash/isObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _isNil from \"lodash/isNil\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { cloneElement, isValidElement } from 'react';\nimport classNames from 'classnames';\nimport Text from './Text';\nimport { findAllByType } from '../util/ReactUtils';\nimport { isNumOrStr, isNumber, isPercent, getPercentValue, uniqueId, mathSign } from '../util/DataUtils';\nimport { polarToCartesian } from '../util/PolarUtils';\nimport { filterProps } from '../util/types';\n\nvar getLabel = function getLabel(props) {\n  var value = props.value,\n      formatter = props.formatter;\n  var label = _isNil(props.children) ? value : props.children;\n\n  if (_isFunction(formatter)) {\n    return formatter(label);\n  }\n\n  return label;\n};\n\nvar getDeltaAngle = function getDeltaAngle(startAngle, endAngle) {\n  var sign = mathSign(endAngle - startAngle);\n  var deltaAngle = Math.min(Math.abs(endAngle - startAngle), 360);\n  return sign * deltaAngle;\n};\n\nvar renderRadialLabel = function renderRadialLabel(labelProps, label, attrs) {\n  var position = labelProps.position,\n      viewBox = labelProps.viewBox,\n      offset = labelProps.offset,\n      className = labelProps.className;\n  var _ref = viewBox,\n      cx = _ref.cx,\n      cy = _ref.cy,\n      innerRadius = _ref.innerRadius,\n      outerRadius = _ref.outerRadius,\n      startAngle = _ref.startAngle,\n      endAngle = _ref.endAngle,\n      clockWise = _ref.clockWise;\n  var radius = (innerRadius + outerRadius) / 2;\n  var deltaAngle = getDeltaAngle(startAngle, endAngle);\n  var sign = deltaAngle >= 0 ? 1 : -1;\n  var labelAngle, direction;\n\n  if (position === 'insideStart') {\n    labelAngle = startAngle + sign * offset;\n    direction = clockWise;\n  } else if (position === 'insideEnd') {\n    labelAngle = endAngle - sign * offset;\n    direction = !clockWise;\n  } else if (position === 'end') {\n    labelAngle = endAngle + sign * offset;\n    direction = clockWise;\n  }\n\n  direction = deltaAngle <= 0 ? direction : !direction;\n  var startPoint = polarToCartesian(cx, cy, radius, labelAngle);\n  var endPoint = polarToCartesian(cx, cy, radius, labelAngle + (direction ? 1 : -1) * 359);\n  var path = \"M\".concat(startPoint.x, \",\").concat(startPoint.y, \"\\n    A\").concat(radius, \",\").concat(radius, \",0,1,\").concat(direction ? 0 : 1, \",\\n    \").concat(endPoint.x, \",\").concat(endPoint.y);\n  var id = _isNil(labelProps.id) ? uniqueId('recharts-radial-line-') : labelProps.id;\n  return React.createElement(\"text\", _extends({}, attrs, {\n    dominantBaseline: \"central\",\n    className: classNames('recharts-radial-bar-label', className)\n  }), React.createElement(\"defs\", null, React.createElement(\"path\", {\n    id: id,\n    d: path\n  })), React.createElement(\"textPath\", {\n    xlinkHref: \"#\".concat(id)\n  }, label));\n};\n\nvar getAttrsOfPolarLabel = function getAttrsOfPolarLabel(props) {\n  var viewBox = props.viewBox,\n      offset = props.offset,\n      position = props.position;\n  var _ref2 = viewBox,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      innerRadius = _ref2.innerRadius,\n      outerRadius = _ref2.outerRadius,\n      startAngle = _ref2.startAngle,\n      endAngle = _ref2.endAngle;\n  var midAngle = (startAngle + endAngle) / 2;\n\n  if (position === 'outside') {\n    var _polarToCartesian = polarToCartesian(cx, cy, outerRadius + offset, midAngle),\n        _x = _polarToCartesian.x,\n        _y = _polarToCartesian.y;\n\n    return {\n      x: _x,\n      y: _y,\n      textAnchor: _x >= cx ? 'start' : 'end',\n      verticalAnchor: 'middle'\n    };\n  }\n\n  if (position === 'center') {\n    return {\n      x: cx,\n      y: cy,\n      textAnchor: 'middle',\n      verticalAnchor: 'middle'\n    };\n  }\n\n  if (position === 'centerTop') {\n    return {\n      x: cx,\n      y: cy,\n      textAnchor: 'middle',\n      verticalAnchor: 'start'\n    };\n  }\n\n  if (position === 'centerBottom') {\n    return {\n      x: cx,\n      y: cy,\n      textAnchor: 'middle',\n      verticalAnchor: 'end'\n    };\n  }\n\n  var r = (innerRadius + outerRadius) / 2;\n\n  var _polarToCartesian2 = polarToCartesian(cx, cy, r, midAngle),\n      x = _polarToCartesian2.x,\n      y = _polarToCartesian2.y;\n\n  return {\n    x: x,\n    y: y,\n    textAnchor: 'middle',\n    verticalAnchor: 'middle'\n  };\n};\n\nvar getAttrsOfCartesianLabel = function getAttrsOfCartesianLabel(props) {\n  var viewBox = props.viewBox,\n      offset = props.offset,\n      position = props.position;\n  var _ref3 = viewBox,\n      x = _ref3.x,\n      y = _ref3.y,\n      width = _ref3.width,\n      height = _ref3.height;\n  var sign = height >= 0 ? 1 : -1;\n\n  if (position === 'top') {\n    return {\n      x: x + width / 2,\n      y: y - sign * offset,\n      textAnchor: 'middle',\n      verticalAnchor: sign > 0 ? 'end' : 'start'\n    };\n  }\n\n  if (position === 'bottom') {\n    return {\n      x: x + width / 2,\n      y: y + height + sign * offset,\n      textAnchor: 'middle',\n      verticalAnchor: 'start'\n    };\n  }\n\n  if (position === 'left') {\n    return {\n      x: x - offset,\n      y: y + height / 2,\n      textAnchor: 'end',\n      verticalAnchor: 'middle'\n    };\n  }\n\n  if (position === 'right') {\n    return {\n      x: x + width + offset,\n      y: y + height / 2,\n      textAnchor: 'start',\n      verticalAnchor: 'middle'\n    };\n  }\n\n  if (position === 'insideLeft') {\n    return {\n      x: x + offset,\n      y: y + height / 2,\n      textAnchor: 'start',\n      verticalAnchor: 'middle'\n    };\n  }\n\n  if (position === 'insideRight') {\n    return {\n      x: x + width - offset,\n      y: y + height / 2,\n      textAnchor: 'end',\n      verticalAnchor: 'middle'\n    };\n  }\n\n  if (position === 'insideTop') {\n    return {\n      x: x + width / 2,\n      y: y + sign * offset,\n      textAnchor: 'middle',\n      verticalAnchor: 'start'\n    };\n  }\n\n  if (position === 'insideBottom') {\n    return {\n      x: x + width / 2,\n      y: y + height - sign * offset,\n      textAnchor: 'middle',\n      verticalAnchor: 'end'\n    };\n  }\n\n  if (position === 'insideTopLeft') {\n    return {\n      x: x + offset,\n      y: y + sign * offset,\n      textAnchor: 'start',\n      verticalAnchor: 'start'\n    };\n  }\n\n  if (position === 'insideTopRight') {\n    return {\n      x: x + width - offset,\n      y: y + sign * offset,\n      textAnchor: 'end',\n      verticalAnchor: 'start'\n    };\n  }\n\n  if (position === 'insideBottomLeft') {\n    return {\n      x: x + offset,\n      y: y + height - sign * offset,\n      textAnchor: 'start',\n      verticalAnchor: 'end'\n    };\n  }\n\n  if (position === 'insideBottomRight') {\n    return {\n      x: x + width - offset,\n      y: y + height - sign * offset,\n      textAnchor: 'end',\n      verticalAnchor: 'end'\n    };\n  }\n\n  if (_isObject(position) && (isNumber(position.x) || isPercent(position.x)) && (isNumber(position.y) || isPercent(position.y))) {\n    return {\n      x: x + getPercentValue(position.x, width),\n      y: y + getPercentValue(position.y, height),\n      textAnchor: 'end',\n      verticalAnchor: 'end'\n    };\n  }\n\n  return {\n    x: x + width / 2,\n    y: y + height / 2,\n    textAnchor: 'middle',\n    verticalAnchor: 'middle'\n  };\n};\n\nvar isPolar = function isPolar(viewBox) {\n  return isNumber(viewBox.cx);\n};\n\nfunction Label(props) {\n  var viewBox = props.viewBox,\n      position = props.position,\n      value = props.value,\n      children = props.children,\n      content = props.content,\n      _props$className = props.className,\n      className = _props$className === void 0 ? '' : _props$className;\n\n  if (!viewBox || _isNil(value) && _isNil(children) && !isValidElement(content) && !_isFunction(content)) {\n    return null;\n  }\n\n  if (isValidElement(content)) {\n    return cloneElement(content, props);\n  }\n\n  var label;\n\n  if (_isFunction(content)) {\n    label = content(props);\n\n    if (isValidElement(label)) {\n      return label;\n    }\n  } else {\n    label = getLabel(props);\n  }\n\n  var isPolarLabel = isPolar(viewBox);\n  var attrs = filterProps(props, true);\n\n  if (isPolarLabel && (position === 'insideStart' || position === 'insideEnd' || position === 'end')) {\n    return renderRadialLabel(props, label, attrs);\n  }\n\n  var positionAttrs = isPolarLabel ? getAttrsOfPolarLabel(props) : getAttrsOfCartesianLabel(props);\n  return React.createElement(Text, _extends({\n    className: classNames('recharts-label', className)\n  }, attrs, positionAttrs), label);\n}\n\nLabel.displayName = 'Label';\nLabel.defaultProps = {\n  offset: 5\n};\n\nvar parseViewBox = function parseViewBox(props) {\n  var cx = props.cx,\n      cy = props.cy,\n      angle = props.angle,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      r = props.r,\n      radius = props.radius,\n      innerRadius = props.innerRadius,\n      outerRadius = props.outerRadius,\n      x = props.x,\n      y = props.y,\n      top = props.top,\n      left = props.left,\n      width = props.width,\n      height = props.height,\n      clockWise = props.clockWise;\n\n  if (isNumber(width) && isNumber(height)) {\n    if (isNumber(x) && isNumber(y)) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n\n    if (isNumber(top) && isNumber(left)) {\n      return {\n        x: top,\n        y: left,\n        width: width,\n        height: height\n      };\n    }\n  }\n\n  if (isNumber(x) && isNumber(y)) {\n    return {\n      x: x,\n      y: y,\n      width: 0,\n      height: 0\n    };\n  }\n\n  if (isNumber(cx) && isNumber(cy)) {\n    return {\n      cx: cx,\n      cy: cy,\n      startAngle: startAngle || angle || 0,\n      endAngle: endAngle || angle || 0,\n      innerRadius: innerRadius || 0,\n      outerRadius: outerRadius || radius || r || 0,\n      clockWise: clockWise\n    };\n  }\n\n  if (props.viewBox) {\n    return props.viewBox;\n  }\n\n  return {};\n};\n\nvar parseLabel = function parseLabel(label, viewBox) {\n  if (!label) {\n    return null;\n  }\n\n  if (label === true) {\n    return React.createElement(Label, {\n      key: \"label-implicit\",\n      viewBox: viewBox\n    });\n  }\n\n  if (isNumOrStr(label)) {\n    return React.createElement(Label, {\n      key: \"label-implicit\",\n      viewBox: viewBox,\n      value: label\n    });\n  }\n\n  if (isValidElement(label)) {\n    if (label.type === Label) {\n      return cloneElement(label, {\n        key: 'label-implicit',\n        viewBox: viewBox\n      });\n    }\n\n    return React.createElement(Label, {\n      key: \"label-implicit\",\n      content: label,\n      viewBox: viewBox\n    });\n  }\n\n  if (_isFunction(label)) {\n    return React.createElement(Label, {\n      key: \"label-implicit\",\n      content: label,\n      viewBox: viewBox\n    });\n  }\n\n  if (_isObject(label)) {\n    return React.createElement(Label, _extends({\n      viewBox: viewBox\n    }, label, {\n      key: \"label-implicit\"\n    }));\n  }\n\n  return null;\n};\n\nvar renderCallByParent = function renderCallByParent(parentProps, viewBox) {\n  var ckeckPropsLabel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (!parentProps || !parentProps.children && ckeckPropsLabel && !parentProps.label) {\n    return null;\n  }\n\n  var children = parentProps.children;\n  var parentViewBox = parseViewBox(parentProps);\n  var explicitChilren = findAllByType(children, Label.displayName).map(function (child, index) {\n    return cloneElement(child, {\n      viewBox: viewBox || parentViewBox,\n      key: \"label-\".concat(index)\n    });\n  });\n\n  if (!ckeckPropsLabel) {\n    return explicitChilren;\n  }\n\n  var implicitLabel = parseLabel(parentProps.label, viewBox || parentViewBox);\n  return [implicitLabel].concat(_toConsumableArray(explicitChilren));\n};\n\nLabel.parseViewBox = parseViewBox;\nLabel.renderCallByParent = renderCallByParent;\nexport default Label;","map":{"version":3,"sources":["C:/Users/kyrab/Documents/WPI/Computer_Science/MQP/BrainEx-UI/BrainEx/node_modules/recharts/es6/component/Label.js"],"names":["_isObject","_isFunction","_isNil","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","_extends","assign","target","arguments","source","key","hasOwnProperty","apply","React","cloneElement","isValidElement","classNames","Text","findAllByType","isNumOrStr","isNumber","isPercent","getPercentValue","uniqueId","mathSign","polarToCartesian","filterProps","getLabel","props","value","formatter","label","children","getDeltaAngle","startAngle","endAngle","sign","deltaAngle","Math","min","abs","renderRadialLabel","labelProps","attrs","position","viewBox","offset","className","_ref","cx","cy","innerRadius","outerRadius","clockWise","radius","labelAngle","direction","startPoint","endPoint","path","concat","x","y","id","createElement","dominantBaseline","d","xlinkHref","getAttrsOfPolarLabel","_ref2","midAngle","_polarToCartesian","_x","_y","textAnchor","verticalAnchor","r","_polarToCartesian2","getAttrsOfCartesianLabel","_ref3","width","height","isPolar","Label","content","_props$className","isPolarLabel","positionAttrs","displayName","defaultProps","parseViewBox","angle","top","left","parseLabel","type","renderCallByParent","parentProps","ckeckPropsLabel","undefined","parentViewBox","explicitChilren","map","child","index","implicitLabel"],"mappings":"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","sourcesContent":["import _isObject from \"lodash/isObject\";\r\nimport _isFunction from \"lodash/isFunction\";\r\nimport _isNil from \"lodash/isNil\";\r\n\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\r\n\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\r\n\r\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\r\n\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\r\n\r\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\n\r\nimport React, { cloneElement, isValidElement } from 'react';\r\nimport classNames from 'classnames';\r\nimport Text from './Text';\r\nimport { findAllByType } from '../util/ReactUtils';\r\nimport { isNumOrStr, isNumber, isPercent, getPercentValue, uniqueId, mathSign } from '../util/DataUtils';\r\nimport { polarToCartesian } from '../util/PolarUtils';\r\nimport { filterProps } from '../util/types';\r\n\r\nvar getLabel = function getLabel(props) {\r\n  var value = props.value,\r\n      formatter = props.formatter;\r\n  var label = _isNil(props.children) ? value : props.children;\r\n\r\n  if (_isFunction(formatter)) {\r\n    return formatter(label);\r\n  }\r\n\r\n  return label;\r\n};\r\n\r\nvar getDeltaAngle = function getDeltaAngle(startAngle, endAngle) {\r\n  var sign = mathSign(endAngle - startAngle);\r\n  var deltaAngle = Math.min(Math.abs(endAngle - startAngle), 360);\r\n  return sign * deltaAngle;\r\n};\r\n\r\nvar renderRadialLabel = function renderRadialLabel(labelProps, label, attrs) {\r\n  var position = labelProps.position,\r\n      viewBox = labelProps.viewBox,\r\n      offset = labelProps.offset,\r\n      className = labelProps.className;\r\n  var _ref = viewBox,\r\n      cx = _ref.cx,\r\n      cy = _ref.cy,\r\n      innerRadius = _ref.innerRadius,\r\n      outerRadius = _ref.outerRadius,\r\n      startAngle = _ref.startAngle,\r\n      endAngle = _ref.endAngle,\r\n      clockWise = _ref.clockWise;\r\n  var radius = (innerRadius + outerRadius) / 2;\r\n  var deltaAngle = getDeltaAngle(startAngle, endAngle);\r\n  var sign = deltaAngle >= 0 ? 1 : -1;\r\n  var labelAngle, direction;\r\n\r\n  if (position === 'insideStart') {\r\n    labelAngle = startAngle + sign * offset;\r\n    direction = clockWise;\r\n  } else if (position === 'insideEnd') {\r\n    labelAngle = endAngle - sign * offset;\r\n    direction = !clockWise;\r\n  } else if (position === 'end') {\r\n    labelAngle = endAngle + sign * offset;\r\n    direction = clockWise;\r\n  }\r\n\r\n  direction = deltaAngle <= 0 ? direction : !direction;\r\n  var startPoint = polarToCartesian(cx, cy, radius, labelAngle);\r\n  var endPoint = polarToCartesian(cx, cy, radius, labelAngle + (direction ? 1 : -1) * 359);\r\n  var path = \"M\".concat(startPoint.x, \",\").concat(startPoint.y, \"\\n    A\").concat(radius, \",\").concat(radius, \",0,1,\").concat(direction ? 0 : 1, \",\\n    \").concat(endPoint.x, \",\").concat(endPoint.y);\r\n  var id = _isNil(labelProps.id) ? uniqueId('recharts-radial-line-') : labelProps.id;\r\n  return React.createElement(\"text\", _extends({}, attrs, {\r\n    dominantBaseline: \"central\",\r\n    className: classNames('recharts-radial-bar-label', className)\r\n  }), React.createElement(\"defs\", null, React.createElement(\"path\", {\r\n    id: id,\r\n    d: path\r\n  })), React.createElement(\"textPath\", {\r\n    xlinkHref: \"#\".concat(id)\r\n  }, label));\r\n};\r\n\r\nvar getAttrsOfPolarLabel = function getAttrsOfPolarLabel(props) {\r\n  var viewBox = props.viewBox,\r\n      offset = props.offset,\r\n      position = props.position;\r\n  var _ref2 = viewBox,\r\n      cx = _ref2.cx,\r\n      cy = _ref2.cy,\r\n      innerRadius = _ref2.innerRadius,\r\n      outerRadius = _ref2.outerRadius,\r\n      startAngle = _ref2.startAngle,\r\n      endAngle = _ref2.endAngle;\r\n  var midAngle = (startAngle + endAngle) / 2;\r\n\r\n  if (position === 'outside') {\r\n    var _polarToCartesian = polarToCartesian(cx, cy, outerRadius + offset, midAngle),\r\n        _x = _polarToCartesian.x,\r\n        _y = _polarToCartesian.y;\r\n\r\n    return {\r\n      x: _x,\r\n      y: _y,\r\n      textAnchor: _x >= cx ? 'start' : 'end',\r\n      verticalAnchor: 'middle'\r\n    };\r\n  }\r\n\r\n  if (position === 'center') {\r\n    return {\r\n      x: cx,\r\n      y: cy,\r\n      textAnchor: 'middle',\r\n      verticalAnchor: 'middle'\r\n    };\r\n  }\r\n\r\n  if (position === 'centerTop') {\r\n    return {\r\n      x: cx,\r\n      y: cy,\r\n      textAnchor: 'middle',\r\n      verticalAnchor: 'start'\r\n    };\r\n  }\r\n\r\n  if (position === 'centerBottom') {\r\n    return {\r\n      x: cx,\r\n      y: cy,\r\n      textAnchor: 'middle',\r\n      verticalAnchor: 'end'\r\n    };\r\n  }\r\n\r\n  var r = (innerRadius + outerRadius) / 2;\r\n\r\n  var _polarToCartesian2 = polarToCartesian(cx, cy, r, midAngle),\r\n      x = _polarToCartesian2.x,\r\n      y = _polarToCartesian2.y;\r\n\r\n  return {\r\n    x: x,\r\n    y: y,\r\n    textAnchor: 'middle',\r\n    verticalAnchor: 'middle'\r\n  };\r\n};\r\n\r\nvar getAttrsOfCartesianLabel = function getAttrsOfCartesianLabel(props) {\r\n  var viewBox = props.viewBox,\r\n      offset = props.offset,\r\n      position = props.position;\r\n  var _ref3 = viewBox,\r\n      x = _ref3.x,\r\n      y = _ref3.y,\r\n      width = _ref3.width,\r\n      height = _ref3.height;\r\n  var sign = height >= 0 ? 1 : -1;\r\n\r\n  if (position === 'top') {\r\n    return {\r\n      x: x + width / 2,\r\n      y: y - sign * offset,\r\n      textAnchor: 'middle',\r\n      verticalAnchor: sign > 0 ? 'end' : 'start'\r\n    };\r\n  }\r\n\r\n  if (position === 'bottom') {\r\n    return {\r\n      x: x + width / 2,\r\n      y: y + height + sign * offset,\r\n      textAnchor: 'middle',\r\n      verticalAnchor: 'start'\r\n    };\r\n  }\r\n\r\n  if (position === 'left') {\r\n    return {\r\n      x: x - offset,\r\n      y: y + height / 2,\r\n      textAnchor: 'end',\r\n      verticalAnchor: 'middle'\r\n    };\r\n  }\r\n\r\n  if (position === 'right') {\r\n    return {\r\n      x: x + width + offset,\r\n      y: y + height / 2,\r\n      textAnchor: 'start',\r\n      verticalAnchor: 'middle'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideLeft') {\r\n    return {\r\n      x: x + offset,\r\n      y: y + height / 2,\r\n      textAnchor: 'start',\r\n      verticalAnchor: 'middle'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideRight') {\r\n    return {\r\n      x: x + width - offset,\r\n      y: y + height / 2,\r\n      textAnchor: 'end',\r\n      verticalAnchor: 'middle'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideTop') {\r\n    return {\r\n      x: x + width / 2,\r\n      y: y + sign * offset,\r\n      textAnchor: 'middle',\r\n      verticalAnchor: 'start'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideBottom') {\r\n    return {\r\n      x: x + width / 2,\r\n      y: y + height - sign * offset,\r\n      textAnchor: 'middle',\r\n      verticalAnchor: 'end'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideTopLeft') {\r\n    return {\r\n      x: x + offset,\r\n      y: y + sign * offset,\r\n      textAnchor: 'start',\r\n      verticalAnchor: 'start'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideTopRight') {\r\n    return {\r\n      x: x + width - offset,\r\n      y: y + sign * offset,\r\n      textAnchor: 'end',\r\n      verticalAnchor: 'start'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideBottomLeft') {\r\n    return {\r\n      x: x + offset,\r\n      y: y + height - sign * offset,\r\n      textAnchor: 'start',\r\n      verticalAnchor: 'end'\r\n    };\r\n  }\r\n\r\n  if (position === 'insideBottomRight') {\r\n    return {\r\n      x: x + width - offset,\r\n      y: y + height - sign * offset,\r\n      textAnchor: 'end',\r\n      verticalAnchor: 'end'\r\n    };\r\n  }\r\n\r\n  if (_isObject(position) && (isNumber(position.x) || isPercent(position.x)) && (isNumber(position.y) || isPercent(position.y))) {\r\n    return {\r\n      x: x + getPercentValue(position.x, width),\r\n      y: y + getPercentValue(position.y, height),\r\n      textAnchor: 'end',\r\n      verticalAnchor: 'end'\r\n    };\r\n  }\r\n\r\n  return {\r\n    x: x + width / 2,\r\n    y: y + height / 2,\r\n    textAnchor: 'middle',\r\n    verticalAnchor: 'middle'\r\n  };\r\n};\r\n\r\nvar isPolar = function isPolar(viewBox) {\r\n  return isNumber(viewBox.cx);\r\n};\r\n\r\nfunction Label(props) {\r\n  var viewBox = props.viewBox,\r\n      position = props.position,\r\n      value = props.value,\r\n      children = props.children,\r\n      content = props.content,\r\n      _props$className = props.className,\r\n      className = _props$className === void 0 ? '' : _props$className;\r\n\r\n  if (!viewBox || _isNil(value) && _isNil(children) && !isValidElement(content) && !_isFunction(content)) {\r\n    return null;\r\n  }\r\n\r\n  if (isValidElement(content)) {\r\n    return cloneElement(content, props);\r\n  }\r\n\r\n  var label;\r\n\r\n  if (_isFunction(content)) {\r\n    label = content(props);\r\n\r\n    if (isValidElement(label)) {\r\n      return label;\r\n    }\r\n  } else {\r\n    label = getLabel(props);\r\n  }\r\n\r\n  var isPolarLabel = isPolar(viewBox);\r\n  var attrs = filterProps(props, true);\r\n\r\n  if (isPolarLabel && (position === 'insideStart' || position === 'insideEnd' || position === 'end')) {\r\n    return renderRadialLabel(props, label, attrs);\r\n  }\r\n\r\n  var positionAttrs = isPolarLabel ? getAttrsOfPolarLabel(props) : getAttrsOfCartesianLabel(props);\r\n  return React.createElement(Text, _extends({\r\n    className: classNames('recharts-label', className)\r\n  }, attrs, positionAttrs), label);\r\n}\r\n\r\nLabel.displayName = 'Label';\r\nLabel.defaultProps = {\r\n  offset: 5\r\n};\r\n\r\nvar parseViewBox = function parseViewBox(props) {\r\n  var cx = props.cx,\r\n      cy = props.cy,\r\n      angle = props.angle,\r\n      startAngle = props.startAngle,\r\n      endAngle = props.endAngle,\r\n      r = props.r,\r\n      radius = props.radius,\r\n      innerRadius = props.innerRadius,\r\n      outerRadius = props.outerRadius,\r\n      x = props.x,\r\n      y = props.y,\r\n      top = props.top,\r\n      left = props.left,\r\n      width = props.width,\r\n      height = props.height,\r\n      clockWise = props.clockWise;\r\n\r\n  if (isNumber(width) && isNumber(height)) {\r\n    if (isNumber(x) && isNumber(y)) {\r\n      return {\r\n        x: x,\r\n        y: y,\r\n        width: width,\r\n        height: height\r\n      };\r\n    }\r\n\r\n    if (isNumber(top) && isNumber(left)) {\r\n      return {\r\n        x: top,\r\n        y: left,\r\n        width: width,\r\n        height: height\r\n      };\r\n    }\r\n  }\r\n\r\n  if (isNumber(x) && isNumber(y)) {\r\n    return {\r\n      x: x,\r\n      y: y,\r\n      width: 0,\r\n      height: 0\r\n    };\r\n  }\r\n\r\n  if (isNumber(cx) && isNumber(cy)) {\r\n    return {\r\n      cx: cx,\r\n      cy: cy,\r\n      startAngle: startAngle || angle || 0,\r\n      endAngle: endAngle || angle || 0,\r\n      innerRadius: innerRadius || 0,\r\n      outerRadius: outerRadius || radius || r || 0,\r\n      clockWise: clockWise\r\n    };\r\n  }\r\n\r\n  if (props.viewBox) {\r\n    return props.viewBox;\r\n  }\r\n\r\n  return {};\r\n};\r\n\r\nvar parseLabel = function parseLabel(label, viewBox) {\r\n  if (!label) {\r\n    return null;\r\n  }\r\n\r\n  if (label === true) {\r\n    return React.createElement(Label, {\r\n      key: \"label-implicit\",\r\n      viewBox: viewBox\r\n    });\r\n  }\r\n\r\n  if (isNumOrStr(label)) {\r\n    return React.createElement(Label, {\r\n      key: \"label-implicit\",\r\n      viewBox: viewBox,\r\n      value: label\r\n    });\r\n  }\r\n\r\n  if (isValidElement(label)) {\r\n    if (label.type === Label) {\r\n      return cloneElement(label, {\r\n        key: 'label-implicit',\r\n        viewBox: viewBox\r\n      });\r\n    }\r\n\r\n    return React.createElement(Label, {\r\n      key: \"label-implicit\",\r\n      content: label,\r\n      viewBox: viewBox\r\n    });\r\n  }\r\n\r\n  if (_isFunction(label)) {\r\n    return React.createElement(Label, {\r\n      key: \"label-implicit\",\r\n      content: label,\r\n      viewBox: viewBox\r\n    });\r\n  }\r\n\r\n  if (_isObject(label)) {\r\n    return React.createElement(Label, _extends({\r\n      viewBox: viewBox\r\n    }, label, {\r\n      key: \"label-implicit\"\r\n    }));\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nvar renderCallByParent = function renderCallByParent(parentProps, viewBox) {\r\n  var ckeckPropsLabel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\r\n\r\n  if (!parentProps || !parentProps.children && ckeckPropsLabel && !parentProps.label) {\r\n    return null;\r\n  }\r\n\r\n  var children = parentProps.children;\r\n  var parentViewBox = parseViewBox(parentProps);\r\n  var explicitChilren = findAllByType(children, Label.displayName).map(function (child, index) {\r\n    return cloneElement(child, {\r\n      viewBox: viewBox || parentViewBox,\r\n      key: \"label-\".concat(index)\r\n    });\r\n  });\r\n\r\n  if (!ckeckPropsLabel) {\r\n    return explicitChilren;\r\n  }\r\n\r\n  var implicitLabel = parseLabel(parentProps.label, viewBox || parentViewBox);\r\n  return [implicitLabel].concat(_toConsumableArray(explicitChilren));\r\n};\r\n\r\nLabel.parseViewBox = parseViewBox;\r\nLabel.renderCallByParent = renderCallByParent;\r\nexport default Label;"]},"metadata":{},"sourceType":"module"}